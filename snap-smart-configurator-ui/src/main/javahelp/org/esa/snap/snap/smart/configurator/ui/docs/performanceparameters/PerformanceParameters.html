<!--
  ~ Copyright (C) 2015 CS SI
  ~
  ~ This program is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU General Public License as published by the Free
  ~ Software Foundation; either version 3 of the License, or (at your option)
  ~ any later version.
  ~ This program is distributed in the hope that it will be useful, but WITHOUT
  ~ ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  ~ FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
  ~ more details.
  ~
  ~ You should have received a copy of the GNU General Public License along
  ~ with this program; if not, see http://www.gnu.org/licenses/
  -->

<html>
<head>
    <title>Sentinel Toolbox Help - Performance parameters</title>
    <link rel="stylesheet" href="../style.css">
</head>

<body>

<table class="header">
    <tr class="header">
        <td class="header">&nbsp;
            Performance parameters</td>

        <td class="header" align="right"><a href="../general/overview/SnapOverview.html"><img src="../images/snap_header.jpg" border=0></a></td>
    </tr>
</table>

<h3>Performance parameters</h3>

<p>

</p>

<img src="images/snap-smart-configurator-ui-preferences.jpg" border=0/>

<h4><a name="systemParameters">System</a></h4>

<ul>
    <li><b>VM Parameters</b><br>
        Parameters for the java virtual machine. These parameters are for advanced users only.
        They are taken into account after the application restarts. Most effective parameters
        for performance are -Xmx (maximum memory) and -Xms (initial memory), they are optimised
        when pressing the Compute button.
    </li>
    <li><b>Data cache path</b><br>
        SNAP application data cache path path. This path is used by SNAP processors and readers to
        store temporary files. Changing this path to a faster drive or RAM Drive can drastically
        improve performances for some operations.
    </li>
</ul>

<li>
    <b>Compute</b><br>
    <p>The compute button is calculating optimum memory and cache path parameters for your system
        <li>For Virtual Machine parameters, it compute "optimum" memory parameters:<br>
            It sets the minumal memory to 2GB if enough memory is available.
            It computes the maximal memory using total memory for the system, the memory taken by SNAP
            and the memory taken by other processes (OS, other applications, etc.). If the actual free
            ram is higher the the "minimum free ram" (fixed to 512Mb), then the maximum memory is configured
            so that SNAP can use all the free ram but the "minimum free ram". If the free ram is lower than
            the "minimum free ram", the SNAP is configured to take at most the ram it takes plus half of
            the free ram<br> </li>
    </p>
</li>
<li>
    <b>Reset</b><br>
    <p>The reset button reload the initial parameters. After apply or valid your inputs, you can't reset to previous version.
    </p>
</li>

<h4><a name="processingParameters">Processing</a></h4>

<p>
    This preferences page provides options to customize processing parameters.
    You can manually set processing parameters in SNAP Values or use the benchmark to compute faster processing parameters.
</p>
<ul>
    <li><b>SNAP Values</b><br>
        There are three processing parameters that may affect processing performance:
        <ul>
            <li><b>Tile size</b><br>
                Defines the default tile size in pixels.
            </li>
            <li><b>Cache size</b><br>
                Defines the default cache size in MB.
            </li>
            <li><b>Nb threads</b><br>
                Sets the available number of threads. This value must not exceed your hardware number of cores.
            </li>
        </ul>
    </li>
    <li><b>Benchmark</b><br>
        <p> To help you to define faster processing parameters, you can launch benchmarks.<br>
            Follow these steps:
        </p>
        <ul>
            <li><b>Select potential values</b><br>
                <p>You need to define a list of potential processing parameters for each values (tile size, cache size and nb threads).<br>
                Each list must have at least one value, otherwise each values must be separated by a semi-colon (;).</p>
                <img src="images/snap-smart-configurator-ui-preferences-benchmark-param.jpg" border=0/>
            </li>
            <li><b>Select a processing</b><br>
                Select in the <b>Proc. graph</b> combobox the processing that will be used by the benchmark.
            </li>
            <li><b>Set processing parameters</b><br>
                <p>Press the button <b>Compute</b> to launch the processing dialog, sets processing parameters and click <b>Run</b>.</p>
                <img src="images/snap-smart-configurator-ui-preferences-benchmark-procparam.jpg" border=0/>
            </li>
            <li><b>Results</b><br>
                <p>The benchmark will compute the processing with all given parameters.</p>
                <img src="images/snap-smart-configurator-ui-preferences-benchmark-run.jpg" border=0/>
                <p>It will display all results in a dialog windows and save the faster parameters in <b>SNAP Values</b>.</p>
                <img src="images/snap-smart-configurator-ui-preferences-benchmark-result.jpg" border=0/>
            </li>
        </ul>
    </li>
    <li>
        <b>Reset</b><br>
        <p>The reset button reload the initial parameters. After apply or valid your inputs, you can't reset to previous version.
        </p>
    </li>
</ul>

</body>
</html>